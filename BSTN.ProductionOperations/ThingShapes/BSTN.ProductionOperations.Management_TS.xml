<?xml version="1.0" encoding="UTF-8"?>
<Entities
 majorVersion="9"
 minorVersion="3"
 universal="password">
    <ThingShapes>
        <ThingShape
         aspect.isSystemObject="false"
         className=""
         description="Manages business logic to process production data for DPM"
         documentationContent=""
         homeMashup=""
         name="BSTN.ProductionOperations.Management_TS"
         projectName="BSTN.ProductionOperations"
         tags="">
            <PropertyDefinitions></PropertyDefinitions>
            <ServiceDefinitions>
                <ServiceDefinition
                 aspect.isAsync="false"
                 category=""
                 description=""
                 isAllowOverride="false"
                 isLocalOnly="false"
                 isOpen="false"
                 isPrivate="false"
                 name="AddChangeDelayTime">
                    <ResultType
                     baseType="NOTHING"
                     description=""
                     name="result"
                     ordinal="0"></ResultType>
                    <ParameterDefinitions></ParameterDefinitions>
                </ServiceDefinition>
                <ServiceDefinition
                 aspect.isAsync="false"
                 category=""
                 description=""
                 isAllowOverride="false"
                 isLocalOnly="false"
                 isOpen="false"
                 isPrivate="false"
                 name="AddStandardChangeoverTime">
                    <ResultType
                     aspect.dataShape="BSTN.NOTEvent.ChangeoverCache_DS"
                     baseType="DATETIME"
                     description=""
                     name="result"
                     ordinal="0"></ResultType>
                    <ParameterDefinitions>
                        <FieldDefinition
                         aspect.dataShape="JobOrderDetails_DS"
                         baseType="INFOTABLE"
                         description="JobOrdersInfotableRow"
                         name="jobOrderDetailsChangeover"
                         ordinal="1"></FieldDefinition>
                    </ParameterDefinitions>
                </ServiceDefinition>
                <ServiceDefinition
                 aspect.isAsync="false"
                 category=""
                 description="Check if the material is existent in DPM"
                 isAllowOverride="false"
                 isLocalOnly="false"
                 isOpen="false"
                 isPrivate="false"
                 name="CheckExistentMaterial">
                    <ResultType
                     baseType="BOOLEAN"
                     description="Returns true if material we are searching for exists. "
                     name="result"
                     ordinal="0"></ResultType>
                    <ParameterDefinitions>
                        <FieldDefinition
                         baseType="STRING"
                         description="The material we are checking that exists"
                         name="material"
                         ordinal="2"></FieldDefinition>
                        <FieldDefinition
                         baseType="STRING"
                         description="WorkunitThingName to search for materials"
                         name="workUnitThingName"
                         ordinal="1"></FieldDefinition>
                    </ParameterDefinitions>
                </ServiceDefinition>
                <ServiceDefinition
                 aspect.isAsync="false"
                 category=""
                 description="//Create and start new Job Order on DPM "
                 isAllowOverride="false"
                 isLocalOnly="false"
                 isOpen="false"
                 isPrivate="false"
                 name="CreateAndStartNewJobOrder">
                    <ResultType
                     aspect.dataShape="WorkUnitName_DS"
                     baseType="NOTHING"
                     description=""
                     name="result"
                     ordinal="0"></ResultType>
                    <ParameterDefinitions>
                        <FieldDefinition
                         aspect.dataShape="JobOrderDetails_DS"
                         baseType="INFOTABLE"
                         description="Infotable containing jobOrderDetails to start the JobOrders"
                         name="jobOrderCreationInfoTable"
                         ordinal="1"></FieldDefinition>
                    </ParameterDefinitions>
                </ServiceDefinition>
                <ServiceDefinition
                 aspect.isAsync="false"
                 category=""
                 description="Service that follows the Production Operation Logic and creates and starts orders, updates quantity, checks for material and add changeovers accordingly."
                 isAllowOverride="false"
                 isLocalOnly="false"
                 isOpen="false"
                 isPrivate="false"
                 name="JobOrderProcess">
                    <ResultType
                     aspect.dataShape="JobOrderDetails_DS"
                     baseType="INFOTABLE"
                     description=""
                     name="result"
                     ordinal="0"></ResultType>
                    <ParameterDefinitions></ParameterDefinitions>
                </ServiceDefinition>
                <ServiceDefinition
                 aspect.isAsync="false"
                 category=""
                 description="Service that obtains the Production Operation Data through the GABE Interface."
                 isAllowOverride="false"
                 isLocalOnly="false"
                 isOpen="false"
                 isPrivate="false"
                 name="ProcessProductionOperationData">
                    <ResultType
                     aspect.dataShape="JobOrderDetails_DS"
                     baseType="INFOTABLE"
                     description="Infotable returned from gabe containing all the Production Operations Data"
                     name="result"
                     ordinal="0"></ResultType>
                    <ParameterDefinitions></ParameterDefinitions>
                </ServiceDefinition>
                <ServiceDefinition
                 aspect.isAsync="false"
                 category=""
                 description=""
                 isAllowOverride="false"
                 isLocalOnly="false"
                 isOpen="false"
                 isPrivate="false"
                 name="test">
                    <ResultType
                     baseType="INFOTABLE"
                     description=""
                     name="result"
                     ordinal="0"></ResultType>
                    <ParameterDefinitions></ParameterDefinitions>
                </ServiceDefinition>
                <ServiceDefinition
                 aspect.isAsync="false"
                 category=""
                 description=""
                 isAllowOverride="false"
                 isLocalOnly="false"
                 isOpen="false"
                 isPrivate="false"
                 name="UpdateProductionProcessedData">
                    <ResultType
                     baseType="NOTHING"
                     description=""
                     name="result"
                     ordinal="0"></ResultType>
                    <ParameterDefinitions></ParameterDefinitions>
                </ServiceDefinition>
                <ServiceDefinition
                 aspect.isAsync="false"
                 category=""
                 description="Service for updating the Production quantity of the current WU"
                 isAllowOverride="false"
                 isLocalOnly="false"
                 isOpen="false"
                 isPrivate="false"
                 name="UpdateProductionQuantity">
                    <ResultType
                     aspect.dataShape="NamedVTQ"
                     baseType="NOTHING"
                     description=""
                     name="result"
                     ordinal="0"></ResultType>
                    <ParameterDefinitions>
                        <FieldDefinition
                         aspect.dataShape="JobOrderDetails_DS"
                         baseType="INFOTABLE"
                         description=""
                         name="JobOrderDetails"
                         ordinal="1"></FieldDefinition>
                    </ParameterDefinitions>
                </ServiceDefinition>
            </ServiceDefinitions>
            <EventDefinitions></EventDefinitions>
            <ServiceMappings></ServiceMappings>
            <ServiceImplementations>
                <ServiceImplementation
                 description=""
                 handlerName="Script"
                 name="AddChangeDelayTime">
                    <ConfigurationTables>
                        <ConfigurationTable
                         dataShapeName=""
                         description=""
                         isMultiRow="false"
                         name="Script"
                         ordinal="0">
                            <DataShape>
                                <FieldDefinitions>
                                    <FieldDefinition
                                     baseType="STRING"
                                     description="code"
                                     name="code"
                                     ordinal="0"></FieldDefinition>
                                </FieldDefinitions>
                            </DataShape>
                            <Rows>
                                <Row>
                                    <code></code>
                                </Row>
                            </Rows>
                        </ConfigurationTable>
                    </ConfigurationTables>
                </ServiceImplementation>
                <ServiceImplementation
                 description=""
                 handlerName="Script"
                 name="AddStandardChangeoverTime">
                    <ConfigurationTables>
                        <ConfigurationTable
                         dataShapeName=""
                         description=""
                         isMultiRow="false"
                         name="Script"
                         ordinal="0">
                            <DataShape>
                                <FieldDefinitions>
                                    <FieldDefinition
                                     baseType="STRING"
                                     description="code"
                                     name="code"
                                     ordinal="0"></FieldDefinition>
                                </FieldDefinitions>
                            </DataShape>
                            <Rows>
                                <Row>
                                    <code>
                                    <![CDATA[
                                    let NOTEventManager = Things["PTC.Base.Manager"].GetConfiguredManagerForIdentifier({identifier:"BSTN.NOTEvent.Manager"});
                                    let mfgModelManager = Things["PTC.Base.Manager"].GetConfiguredManagerForIdentifier({identifier:"PTC.MfgModel.Manager"});
                                    
                                    //Getting WU thingName
                                    let workUnitItemInfotable = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape({
                                    	infoTableName: "InfoTable",
                                    	dataShapeName: "WorkUnitName_DS"
                                    });
                                    workUnitItemInfotable.item = jobOrderDetailsChangeover.WorkUnit;
                                    
                                    resultingWorkUnitItemInfotable = Things[mfgModelManager].GetModelsByName({
                                    	modelNames: workUnitItemInfotable
                                    });
                                    let workUnit = resultingWorkUnitItemInfotable.thingName;
                                    
                                    let cached = Things[workUnit].cachedChangeover;
                                    
                                    let NOTStartTime = cached[0].NOTStartTime;
                                    let NOTEndTime = cached[0].NOTEndTime;
                                    
                                    let actualChangeOver = Math.abs(NOTEndTime - NOTStartTime);
                                    let duration = jobOrderDetailsChangeover.Duration;
                                    
                                    let stdChangeOverTimestamp = +NOTStartTime + (duration * 60 * 1000);
                                    let endStdChangeTime = new Date(stdChangeOverTimestamp);
                                    
                                    Things[workUnit].cachedChangeover.endStdChangeTime = endStdChangeTime;
                                    Things[workUnit].cachedChangeover.changeType = jobOrderDetailsChangeover.Reason;
                                    
                                    Things[NOTEventManager].CreateChangeoverEvents({
                                    	workUnitName: jobOrderDetailsChangeover.WorkUnit /* STRING */
                                    });
                                    
                                    let result = endStdChangeTime;
                                    ]]>
                                    </code>
                                </Row>
                            </Rows>
                        </ConfigurationTable>
                    </ConfigurationTables>
                </ServiceImplementation>
                <ServiceImplementation
                 description=""
                 handlerName="Script"
                 name="CheckExistentMaterial">
                    <ConfigurationTables>
                        <ConfigurationTable
                         dataShapeName=""
                         description=""
                         isMultiRow="false"
                         name="Script"
                         ordinal="0">
                            <DataShape>
                                <FieldDefinitions>
                                    <FieldDefinition
                                     baseType="STRING"
                                     description="code"
                                     name="code"
                                     ordinal="0"></FieldDefinition>
                                </FieldDefinitions>
                            </DataShape>
                            <Rows>
                                <Row>
                                    <code>
                                    <![CDATA[
                                    let exist = false;
                                    
                                    Things[workUnitThingName].GetPTCExecutionWorkMasterMaterials().rows.toArray().forEach(row => {
                                    	if (row.id === material) {
                                    		exist = true;
                                    	}
                                    });
                                    
                                    
                                    result = exist;
                                    ]]>
                                    </code>
                                </Row>
                            </Rows>
                        </ConfigurationTable>
                    </ConfigurationTables>
                </ServiceImplementation>
                <ServiceImplementation
                 description=""
                 handlerName="Script"
                 name="CreateAndStartNewJobOrder">
                    <ConfigurationTables>
                        <ConfigurationTable
                         dataShapeName=""
                         description=""
                         isMultiRow="false"
                         name="Script"
                         ordinal="0">
                            <DataShape>
                                <FieldDefinitions>
                                    <FieldDefinition
                                     baseType="STRING"
                                     description="code"
                                     name="code"
                                     ordinal="0"></FieldDefinition>
                                </FieldDefinitions>
                            </DataShape>
                            <Rows>
                                <Row>
                                    <code>
                                    <![CDATA[
                                    let eventType;
                                    let jobOrderID;
                                    let material;
                                    let workUnit;
                                    let txnQuantity;
                                    let txnTimestamp;
                                    let modelUID;
                                    let materialMasterUID;
                                    let mfgModelManager = Things["PTC.Base.Manager"].GetConfiguredManagerForIdentifier({identifier:"PTC.MfgModel.Manager"});
                                    
                                    try {
                                    	jobOrderCreationInfoTable.rows.toArray().forEach(row => {
                                    		eventType = row.EventType;
                                    		jobOrderID = row.JobOrderID;
                                    		material = row.Material;
                                    		txnQuantity = row.TxnQuantity;
                                    		txnTimestamp = row.TxnTimestamp;
                                    
                                    		//Getting the workunit thingname
                                    		// CreateInfoTableFromDataShape(infoTableName:STRING("InfoTable"), dataShapeName:STRING):INFOTABLE(WorkUnitName_DS)
                                    		let workUnitItemInfotable = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape({
                                    			infoTableName: "InfoTable",
                                    			dataShapeName: "WorkUnitName_DS"
                                    		});
                                    
                                    		workUnitItemInfotable.item = row.WorkUnit;
                                    
                                    		let resultingWorkUnitItemInfotable = Things[mfgModelManager].GetModelsByName({
                                    			modelNames: workUnitItemInfotable
                                    		});
                                    
                                    		workUnit = resultingWorkUnitItemInfotable.thingName;
                                    
                                    		//Creating JobOrders
                                    		//WorkUnitString Might change 
                                    		modelUID = Things[workUnit].PTCModelUid;
                                    		Things[workUnit].GetPTCExecutionWorkMasterMaterials().rows.toArray().forEach(row => {
                                    			if (row.id === material) {
                                    				materialMasterUID = row.uid;
                                    			}
                                    		});
                                    
                                    		//The AddJobOrder has to be called twice. One for creating and the other for dispatching
                                    		// result: INFOTABLE dataShape: "PTC.JobOrder.JobOrder"
                                    		let jobOrderCreationInfotable = Things["PTCDTS.InterfaceImpl.Manager"].AddJobOrder({
                                    			quantity: txnQuantity /* NUMBER */ ,
                                    			plannedStartTime: Date.now() /* DATETIME */ ,
                                    			JoborderStatus: "Pending" /* STRING */ ,
                                    			plannedEndTime: undefined /* DATETIME */ ,
                                    			eventTime: txnTimestamp /* DATETIME */ ,
                                    			id: jobOrderID /* STRING */ ,
                                    			modelUid: modelUID /* LONG */ ,
                                    			materialMasterUid: materialMasterUID /* LONG */
                                    		});
                                    
                                    		jobOrderCreationInfotable = Things["PTCDTS.InterfaceImpl.Manager"].AddJobOrder({
                                    			quantity: txnQuantity /* NUMBER */ ,
                                    			plannedStartTime: Date.now() /* DATETIME */ ,
                                    			JoborderStatus: "Dispatched" /* STRING */ ,
                                    			plannedEndTime: undefined /* DATETIME */ ,
                                    			eventTime: txnTimestamp /* DATETIME */ ,
                                    			id: jobOrderID /* STRING */ ,
                                    			modelUid: modelUID /* LONG */ ,
                                    			materialMasterUid: materialMasterUID /* LONG */
                                    		});
                                    
                                    		//After Order is created and dispatched, we reflect it on production dashboard
                                    		let infotableUpdateJobOrder = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape({
                                    			infoTableName: "InfoTable",
                                    			dataShapeName: "NamedVTQ"
                                    		});
                                    
                                    		//let newDateTime = txnTimestamp.setSeconds(txnTimestamp.getSeconds() + 3);
                                    		let newDateTime = new Date();
                                    
                                    		infotableUpdateJobOrder.name = "PTCJobOrderID";
                                    		infotableUpdateJobOrder.quality = "Good";
                                    		infotableUpdateJobOrder.time = Date.now();
                                    		infotableUpdateJobOrder.value = jobOrderID;
                                    
                                    		Things[workUnit].UpdatePropertyValues({
                                    			values: infotableUpdateJobOrder /* INFOTABLE {"dataShape":"NamedVTQ"} */
                                    		});
                                    	});
                                    } catch (err) {
                                    	throw err;
                                    }
                                    ]]>
                                    </code>
                                </Row>
                            </Rows>
                        </ConfigurationTable>
                    </ConfigurationTables>
                </ServiceImplementation>
                <ServiceImplementation
                 description=""
                 handlerName="Script"
                 name="JobOrderProcess">
                    <ConfigurationTables>
                        <ConfigurationTable
                         dataShapeName=""
                         description=""
                         isMultiRow="false"
                         name="Script"
                         ordinal="0">
                            <DataShape>
                                <FieldDefinitions>
                                    <FieldDefinition
                                     baseType="STRING"
                                     description="code"
                                     name="code"
                                     ordinal="0"></FieldDefinition>
                                </FieldDefinitions>
                            </DataShape>
                            <Rows>
                                <Row>
                                    <code>
                                    <![CDATA[
                                    //Process Production Operation Data
                                    let jobOrderDetailsInfotable = me.ProcessProductionOperationData();
                                    let result;
                                    let infotableIndex = 0;
                                    let productionOperationsManager = Things["PTC.Base.Manager"].GetConfiguredManagerForIdentifier({identifier:"BSTN.ProductionOperations.Manager"});
                                    let GABEInterfaceManager = Things["PTC.Base.Manager"].GetConfiguredManagerForIdentifier({identifier:"BSTN.GABEInterface.Manager"});
                                    
                                    // CreateInfoTableFromDataShape(infoTableName:STRING("InfoTable"), dataShapeName:STRING):INFOTABLE(JobOrderDetails_DS)
                                    let processJobOrderDetailsInfotable = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape({
                                    	infoTableName: "InfoTable",
                                    	dataShapeName: "JobOrderDetails_DS"
                                    });
                                    
                                    jobOrderDetailsInfotable.rows.toArray().forEach(row => {
                                    	processJobOrderDetailsInfotable.AddRow(jobOrderDetailsInfotable.getRow(infotableIndex));
                                    
                                    	//Check if it is JOCreation, JOQtyProduced or JOChangeOver
                                    	if (row.EventType === "JOCreation") {
                                    		Things[productionOperationsManager].CreateAndStartNewJobOrder({
                                    			jobOrderCreationInfoTable: processJobOrderDetailsInfotable /* INFOTABLE {"dataShape":"JobOrderDetails_DS"} */
                                    		});
                                    	}
                                    	if (row.EventType === "JOQtyProduced") {
                                    		// result: INFOTABLE dataShape: "NamedVTQ"
                                    		Things[productionOperationsManager].UpdateProductionQuantity({
                                    			JobOrderDetails: processJobOrderDetailsInfotable /* INFOTABLE {"dataShape":"JobOrderDetails_DS"} */
                                    		});
                                    	}
                                    	if (row.EventType === "JOChangeOver") {
                                    		
                                    	}
                                    	//Check if material is different
                                    	//Calculate Changeover
                                    	//Check if material exists within DPM
                                    	//UpdateProductionProcessedData
                                    	row.Processed = true;
                                    	Things[GABEInterfaceManager].UpdateProductionOperationsProcessedFlag({
                                    		ID: row.ID /* INTEGER [Required] */
                                    	});
                                    	infotableIndex++;
                                    	processJobOrderDetailsInfotable.RemoveAllRows();
                                    });
                                    
                                    result = jobOrderDetailsInfotable;
                                    ]]>
                                    </code>
                                </Row>
                            </Rows>
                        </ConfigurationTable>
                    </ConfigurationTables>
                </ServiceImplementation>
                <ServiceImplementation
                 description=""
                 handlerName="Script"
                 name="ProcessProductionOperationData">
                    <ConfigurationTables>
                        <ConfigurationTable
                         dataShapeName=""
                         description=""
                         isMultiRow="false"
                         name="Script"
                         ordinal="0">
                            <DataShape>
                                <FieldDefinitions>
                                    <FieldDefinition
                                     baseType="STRING"
                                     description="code"
                                     name="code"
                                     ordinal="0"></FieldDefinition>
                                </FieldDefinitions>
                            </DataShape>
                            <Rows>
                                <Row>
                                    <code>
                                    <![CDATA[
                                    let GABEInterfaceManager = Things[Things["PTC.Base.Manager"].GetConfiguredManagerForIdentifier({identifier:"BSTN.GABEInterface.Manager"})];
                                    
                                    let result = GABEInterfaceManager.GetProductionOperationsData();
                                    ]]>
                                    </code>
                                </Row>
                            </Rows>
                        </ConfigurationTable>
                    </ConfigurationTables>
                </ServiceImplementation>
                <ServiceImplementation
                 description=""
                 handlerName="Script"
                 name="test">
                    <ConfigurationTables>
                        <ConfigurationTable
                         dataShapeName=""
                         description=""
                         isMultiRow="false"
                         name="Script"
                         ordinal="0">
                            <DataShape>
                                <FieldDefinitions>
                                    <FieldDefinition
                                     baseType="STRING"
                                     description="code"
                                     name="code"
                                     ordinal="0"></FieldDefinition>
                                </FieldDefinitions>
                            </DataShape>
                            <Rows>
                                <Row>
                                    <code>
                                    <![CDATA[
                                    let mfgModelManager = Things["PTC.Base.Manager"].GetConfiguredManagerForIdentifier({identifier:"PTC.MfgModel.Manager"});
                                    //let mfgModelManager = Things[Things["PTC.Base.Manager"].GetConfiguredManagerForIdentifier({identifier:"PTC.MfgModel.Manager"})];
                                    
                                    //let test1 = Things[Things["PTC.Base.Manager"].GetConfiguredManagerForIdentifier({identifier:"PTC.MfgModel.Manager"})];
                                    
                                    Things[mfgModelManager].GetPropertyValues();
                                    
                                    let result = Things[mfgModelManager].GetPropertyValues();
                                    ]]>
                                    </code>
                                </Row>
                            </Rows>
                        </ConfigurationTable>
                    </ConfigurationTables>
                </ServiceImplementation>
                <ServiceImplementation
                 description=""
                 handlerName="Script"
                 name="UpdateProductionProcessedData">
                    <ConfigurationTables>
                        <ConfigurationTable
                         dataShapeName=""
                         description=""
                         isMultiRow="false"
                         name="Script"
                         ordinal="0">
                            <DataShape>
                                <FieldDefinitions>
                                    <FieldDefinition
                                     baseType="STRING"
                                     description="code"
                                     name="code"
                                     ordinal="0"></FieldDefinition>
                                </FieldDefinitions>
                            </DataShape>
                            <Rows>
                                <Row>
                                    <code></code>
                                </Row>
                            </Rows>
                        </ConfigurationTable>
                    </ConfigurationTables>
                </ServiceImplementation>
                <ServiceImplementation
                 description=""
                 handlerName="Script"
                 name="UpdateProductionQuantity">
                    <ConfigurationTables>
                        <ConfigurationTable
                         dataShapeName=""
                         description=""
                         isMultiRow="false"
                         name="Script"
                         ordinal="0">
                            <DataShape>
                                <FieldDefinitions>
                                    <FieldDefinition
                                     baseType="STRING"
                                     description="code"
                                     name="code"
                                     ordinal="0"></FieldDefinition>
                                </FieldDefinitions>
                            </DataShape>
                            <Rows>
                                <Row>
                                    <code>
                                    <![CDATA[
                                    let eventType;
                                    let jobOrderID;
                                    let material;
                                    let workUnit;
                                    let txnQuantity;
                                    let txnTimestamp;
                                    let mfgModelManager = Things["PTC.Base.Manager"].GetConfiguredManagerForIdentifier({identifier:"PTC.MfgModel.Manager"});
                                    
                                    //let result = mfgModelManager;
                                    
                                    try {
                                    	JobOrderDetails.rows.toArray().forEach(row => {
                                    		eventType = row.EventType;
                                    		jobOrderID = row.JobOrderID;
                                    		material = row.Material;
                                    		txnQuantity = row.TxnQuantity;
                                    		txnTimestamp = row.TxnTimestamp;
                                    
                                    		let workUnitItemInfotable = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape({
                                    			infoTableName: "InfoTable",
                                    			dataShapeName: "WorkUnitName_DS"
                                    		});
                                    
                                    		workUnitItemInfotable.item = row.WorkUnit;
                                    
                                    		resultingWorkUnitItemInfotable = Things[mfgModelManager].GetModelsByName({
                                    			modelNames: workUnitItemInfotable
                                    		});
                                    
                                    		workUnit = resultingWorkUnitItemInfotable.thingName;
                                    
                                    		//Updating the quantity using the updatePropertyValues service
                                    		if (eventType === "JOQtyProduced") {
                                    
                                    			// CreateInfoTableFromDataShape(infoTableName:STRING("InfoTable"), dataShapeName:STRING):INFOTABLE(NamedVTQ)
                                    			let infotableUpdateQuantity = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape({
                                    				infoTableName: "InfoTable",
                                    				dataShapeName: "NamedVTQ"
                                    			});
                                    
                                    			infotableUpdateQuantity.name = "PTCProductionCount";
                                    			infotableUpdateQuantity.quality = "Good";
                                    			infotableUpdateQuantity.time = txnTimestamp;
                                    			infotableUpdateQuantity.value = txnQuantity;
                                    
                                    			Things[workUnit].UpdatePropertyValues({
                                    				values: infotableUpdateQuantity /* INFOTABLE {"dataShape":"NamedVTQ"} */
                                    			});
                                    
                                    //			result = mfgModelManager;
                                    		}
                                    	});
                                    } catch (err) {
                                    	throw err;
                                    }
                                    ]]>
                                    </code>
                                </Row>
                            </Rows>
                        </ConfigurationTable>
                    </ConfigurationTables>
                </ServiceImplementation>
            </ServiceImplementations>
            <Subscriptions></Subscriptions>
            <avatar></avatar>
            <DesignTimePermissions>
                <Create></Create>
                <Read></Read>
                <Update></Update>
                <Delete></Delete>
                <Metadata></Metadata>
            </DesignTimePermissions>
            <RunTimePermissions></RunTimePermissions>
            <VisibilityPermissions>
                <Visibility></Visibility>
            </VisibilityPermissions>
            <ConfigurationTableDefinitions></ConfigurationTableDefinitions>
            <ConfigurationTables></ConfigurationTables>
            <PropertyBindings></PropertyBindings>
            <RemotePropertyBindings></RemotePropertyBindings>
            <RemoteServiceBindings></RemoteServiceBindings>
            <RemoteEventBindings></RemoteEventBindings>
            <AlertConfigurations></AlertConfigurations>
            <InstanceRunTimePermissions></InstanceRunTimePermissions>
        </ThingShape>
    </ThingShapes>
</Entities>
